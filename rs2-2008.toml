[profile]
# input file to deobfuscate and decompile
input_jar = "ref/runescape.jar"

# output directory for decompiled .java files
output_dir = "src/main/java"

# available transformers
# ClassOrder: Reorder classes based on old rs2 revisions 185-303
# ExceptionTracing: Remove the autogenerated try/catch blocks that report client errors to the server
# Monitor: Rewrite monitor instructions for Fernflower compatibility
# OpaquePredicate: Remove opaque predicates
# OriginalName: Add OpenRS2's OriginalClass and OriginalMember annotations to classes, fields, and methods
# RedundantGoto: Remove redundant GOTO instructions
# VisibilityTransformer: Default undeclared class, field, and method visibility to public

# pre-remap transformers
pre_transformers = [
    "OriginalName",
    # "ClassOrder",
    "RedundantGoto"
]

# post-remap transformers
transformers = [
    "OpaquePredicate",
    "ExceptionTracing",
    "Monitor",
    "RedundantGoto",
    "Visibility"
]

decompile = true

# post-decompilation source transformers
ast_transformers = [
    "Increment"
]

[profile.original_name]
# we produce openrs2-compatible deob annotations but since we don't have a library system
# we require the profile here to include the openrs2 library annotation. this gets prefixed
# to the class name i.e. "client!" and "loader!"
library_annotation = "client"

[profile.remap]
# path to attempt to load the remap from
remap_txt = "remap.txt"
